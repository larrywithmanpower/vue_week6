{"version":3,"sources":["webpack:///./src/views/Products.vue?739b","webpack:///./src/views/Products.vue","webpack:///./src/views/Products.vue?95da"],"names":["class","active","isLoading","href","goTop","width","height","scY","products","item","key","id","src","imageUrl","alt","title","content","goToPage","addCart","data","carts","scTimer","methods","getProducts","this","url","$http","get","then","res","success","$router","push","qty","product_id","post","alert","window","scrollTo","top","left","behavior","handleScroll","setTimeout","scrollY","clearTimeout","created","mounted","addEventListener","render"],"mappings":"gHAAA,W,kFCcE,eAAiC,MAA7BA,MAAM,eAAc,QAAI,G,GACvBA,MAAM,O,GAEFA,MAAM,Q,GAEJA,MAAM,a,GACLA,MAAM,c,GACPA,MAAM,a,GAGJA,MAAM,U,4JAvBnB,eAAuC,GAA7BC,OAAQ,EAAAC,WAAS,mBAE3B,eASa,a,wBARX,iBAOI,C,eAPJ,eAOI,KAPDC,KAAK,qBACRH,MAAM,uDACL,QAAK,+BAAE,EAAAI,W,CAIN,eAA0D,GAA7BC,MAAM,OAAOC,OAAO,U,cAH3C,EAAAC,IAAG,W,MAOb,EACA,eAuBM,MAvBN,EAuBM,E,mBAtBJ,eAqBM,2BArBoC,EAAAC,UAAQ,SAAhBC,G,wBAAlC,eAqBM,OArBDT,MAAM,gBAA0CU,IAAKD,EAAKE,I,CAC7D,eAmBM,MAnBN,EAmBM,CAlBJ,eAA4D,OAAtDC,IAAKH,EAAKI,SAAUb,MAAM,eAAec,IAAI,Q,gBACnD,eAgBM,MAhBN,EAgBM,CAfJ,eAA4C,KAA5C,EAA4C,eAAlBL,EAAKM,OAAK,GACpC,eAEI,IAFJ,EAEI,eADCN,EAAKO,SAAO,GAEjB,eAUM,MAVN,EAUM,CATJ,eAEC,KAFEb,KAAK,IAAIH,MAAM,kBAAmB,QAAK,mCAAU,EAAAiB,SAASR,KAAI,cAC9D,OAAI,eAEP,eAKC,KAJCN,KAAK,IACLH,MAAM,iCACL,QAAK,mCAAU,EAAAkB,QAAQT,EAAKE,MAAE,cAC9B,QAAK,0B,2BAyBL,GACbQ,KADa,WAEX,MAAO,CACLX,SAAU,GACVY,MAAO,GACPlB,WAAW,EACXK,IAAK,EACLc,QAAS,IAGbC,QAAS,CACPC,YADO,WACO,WACZC,KAAKtB,WAAY,EACjB,IAAMuB,EAAE,UAAO,uCAAP,gBAAsC,QAAtC,aACRD,KAAKE,MAAMC,IAAIF,GAAKG,MAAK,SAACC,GACpBA,EAAIV,KAAKW,UACX,EAAKtB,SAAWqB,EAAIV,KAAKX,SACzB,EAAKN,WAAY,OAIvBe,SAXO,SAWER,GACPe,KAAKO,QAAQC,KAAb,mBAA8BvB,EAAKE,MAErCO,QAdO,SAcCP,GAAa,WAATsB,EAAS,uDAAH,EAChBT,KAAKtB,WAAY,EACjB,IAAMuB,EAAE,UAAO,uCAAP,gBAAsC,QAAtC,SACFN,EAAO,CACXe,WAAYvB,EACZsB,OAEFT,KAAKE,MAAMS,KAAKV,EAAK,CAAEN,SAAQS,MAAK,SAACC,GAC/BA,EAAIV,KAAKW,SAEXM,MAAM,GAAD,OAAIzB,EAAJ,YACL,EAAKT,WAAY,GAGjBkC,MAAM,eAKZhC,MAjCO,WAkCLiC,OAAOC,SAAS,CACdC,IAAK,EACLC,KAAM,EACNC,SAAU,YAGdC,aAxCO,WAwCQ,WACTlB,KAAKH,UACTG,KAAKH,QAAUsB,YAAW,WACxB,EAAKpC,IAAM8B,OAAOO,QAClBC,aAAa,EAAKxB,SAClB,EAAKA,QAAU,IACd,QAGPyB,QA3Da,WA4DXtB,KAAKD,eAEPwB,QA9Da,WA+DXV,OAAOW,iBAAiB,SAAUxB,KAAKkB,gB,UCnH3C,EAAOO,OAASA,EAED","file":"js/chunk-9b4fa192.b8f0b459.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Products.vue?vue&type=style&index=0&id=49620d16&lang=scss\"","<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <!-- 製作回到頂部的消失鈕 -->\n  <transition>\n    <a href=\"javascript:void(0)\"\n    class=\"link-primary position-fixed bottom-0 end-0 mb-3 me-3\"\n    @click=\"goTop()\"\n    v-show=\"scY > 350\"\n    >\n    <!-- bootstrap icon vue 使用 -->\n      <b-icon-arrow-up-square-fill width=\"40px\" height=\"40px\" />\n    </a>\n  </transition>\n\n  <h3 class=\"text-center\">產品列表</h3>\n  <div class=\"row\">\n    <div class=\"col-md-4 mb-3\" v-for=\"item in products\" :key=\"item.id\">\n      <div class=\"card\">\n        <img :src=\"item.imageUrl\" class=\"card-img-top\" alt=\"商品相片\" />\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">{{ item.title }}</h5>\n          <p class=\"card-text\">\n            {{ item.content }}\n          </p>\n          <div class=\"d-flex\">\n            <a href=\"#\" class=\"btn btn-primary\" @click.prevent=\"goToPage(item)\"\n              >查看更多</a\n            >\n            <a\n              href=\"#\"\n              class=\"btn btn-outline-danger ms-auto\"\n              @click.prevent=\"addCart(item.id)\"\n              >加入購物車</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n  .v-enter-active, .v-leave-active {\n  transition: opacity .5s;\n  }\n\n  .v-enter-from, .v-leave-to {\n    opacity: 0;\n  }\n\n  .v-enter-to, .v-leave-from {\n    opacity: 1;\n  }\n</style>\n\n<script>\n\nexport default {\n  data() {\n    return {\n      products: [],\n      carts: [],\n      isLoading: false,\n      scY: 0,\n      scTimer: 0,\n    };\n  },\n  methods: {\n    getProducts() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/products`;\n      this.$http.get(url).then((res) => {\n        if (res.data.success) {\n          this.products = res.data.products;\n          this.isLoading = false;\n        }\n      });\n    },\n    goToPage(item) {\n      this.$router.push(`/product/${item.id}`);\n    },\n    addCart(id, qty = 1) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/cart`;\n      const data = {\n        product_id: id,\n        qty,\n      };\n      this.$http.post(url, { data }).then((res) => {\n        if (res.data.success) {\n          // eslint-disable-next-line no-alert\n          alert(`${id}成功加入購物車`);\n          this.isLoading = false;\n        } else {\n          // eslint-disable-next-line no-alert\n          alert('購物車加入失敗');\n        }\n      });\n    },\n    // 能夠回到頂端\n    goTop() {\n      window.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: 'smooth',\n      });\n    },\n    handleScroll() {\n      if (this.scTimer) return;\n      this.scTimer = setTimeout(() => {\n        this.scY = window.scrollY;\n        clearTimeout(this.scTimer);\n        this.scTimer = 0;\n      }, 100);\n    },\n  },\n  created() {\n    this.getProducts();\n  },\n  mounted() {\n    window.addEventListener('scroll', this.handleScroll);\n  },\n};\n</script>\n","import { render } from \"./Products.vue?vue&type=template&id=49620d16\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport \"./Products.vue?vue&type=style&index=0&id=49620d16&lang=scss\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}