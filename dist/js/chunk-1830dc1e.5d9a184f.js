(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1830dc1e"],{"1dde":function(e,t,a){var c=a("d039"),l=a("b622"),n=a("2d00"),r=l("species");e.exports=function(e){return n>=51||!c((function(){var t=[],a=t.constructor={};return a[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},8418:function(e,t,a){"use strict";var c=a("c04e"),l=a("9bf2"),n=a("5c6c");e.exports=function(e,t,a){var r=c(t);r in e?l.f(e,r,n(0,a)):e[r]=a}},"99af":function(e,t,a){"use strict";var c=a("23e7"),l=a("d039"),n=a("e8b5"),r=a("861d"),s=a("7b0b"),o=a("50c4"),i=a("8418"),u=a("65f0"),d=a("1dde"),b=a("b622"),h=a("2d00"),f=b("isConcatSpreadable"),m=9007199254740991,j="Maximum allowed index exceeded",O=h>=51||!l((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),p=d("concat"),v=function(e){if(!r(e))return!1;var t=e[f];return void 0!==t?!!t:n(e)},g=!O||!p;c({target:"Array",proto:!0,forced:g},{concat:function(e){var t,a,c,l,n,r=s(this),d=u(r,0),b=0;for(t=-1,c=arguments.length;t<c;t++)if(n=-1===t?r:arguments[t],v(n)){if(l=o(n.length),b+l>m)throw TypeError(j);for(a=0;a<l;a++,b++)a in n&&i(d,b,n[a])}else{if(b>=m)throw TypeError(j);i(d,b++,n)}return d.length=b,d}})},b0c0:function(e,t,a){var c=a("83ab"),l=a("9bf2").f,n=Function.prototype,r=n.toString,s=/^\s*function ([^ (]*)/,o="name";c&&!(o in n)&&l(n,o,{configurable:!0,get:function(){try{return r.call(this).match(s)[1]}catch(e){return""}}})},b789:function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),l=Object(c["h"])("h2",{class:"text-center"},"我的購物車",-1),n={class:"container"},r={class:"table-responsive col-7 mx-auto"},s={class:"table table-sm"},o=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th"),Object(c["h"])("th",null,"品名"),Object(c["h"])("th",null,"數量"),Object(c["h"])("th",null,"單價")])],-1),i=Object(c["h"])("td",{colspan:"2",class:"text-end"},null,-1),u=Object(c["h"])("td",null,"合計",-1),d=Object(c["h"])("h2",{class:"text-center pt-5"},"送出訂單",-1),b={class:"d-flex justify-content-center"},h={class:"mb-3"},f=Object(c["h"])("label",{for:"email",class:"form-label"},"Email",-1),m={class:"mb-3"},j=Object(c["h"])("label",{for:"username",class:"form-label"},"收件人姓名",-1),O={class:"mb-3"},p=Object(c["h"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),v={class:"mb-3"},g=Object(c["h"])("label",{for:"address",class:"form-label"},"收件人地址",-1),y={class:"mb-3"},x=Object(c["h"])("label",{for:"leaveMsg",class:"form-label"},"留言",-1),V={class:"d-flex justify-content-end"};function C(e,t,a,C,L,k){var w=Object(c["A"])("Loading"),A=Object(c["A"])("Field"),S=Object(c["A"])("Error-message"),$=Object(c["A"])("Form");return Object(c["t"])(),Object(c["e"])(c["a"],null,[Object(c["h"])(w,{active:L.isLoading},null,8,["active"]),l,Object(c["h"])("div",n,[Object(c["h"])("div",r,[Object(c["h"])("table",s,[o,Object(c["h"])("tbody",null,[(Object(c["t"])(!0),Object(c["e"])(c["a"],null,Object(c["y"])(L.carts,(function(e){return Object(c["t"])(),Object(c["e"])("tr",{key:e.id},[Object(c["h"])("td",null,[Object(c["h"])("button",{class:"btn btn-danger",type:"button",onClick:function(t){return k.delCartItem(e.id)}}," 移除購物車 ",8,["onClick"])]),Object(c["h"])("td",null,Object(c["D"])(e.product.title),1),Object(c["h"])("td",null,Object(c["D"])(e.qty),1),Object(c["h"])("td",null,Object(c["D"])(e.product.price),1)])})),128))]),Object(c["h"])("tfoot",null,[Object(c["h"])("tr",null,[i,u,Object(c["h"])("td",null,Object(c["D"])(L.finalTotal),1)])])]),Object(c["h"])("button",{class:"btn btn-outline-danger w-100",onClick:t[1]||(t[1]=function(e){return k.delAllCarts()})},"清空購物車")])]),d,Object(c["h"])("section",b,[Object(c["h"])($,{class:"col-6",onSubmit:k.onSubmit,ref:"form"},{default:Object(c["K"])((function(e){var a=e.errors;return[Object(c["h"])("div",h,[f,Object(c["h"])(A,{type:"email",class:["form-control",{"is-invalid":a["email"]}],id:"email",placeholder:"請輸入Email",modelValue:L.form.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return L.form.user.email=e}),name:"email",rules:"email|required"},null,8,["modelValue","class"]),Object(c["h"])(S,{name:"email",class:"invalid-feedback"})]),Object(c["h"])("div",m,[j,Object(c["h"])(A,{type:"text",class:["form-control",{"is-invalid":a["姓名"]}],id:"username",placeholder:"請輸入姓名",modelValue:L.form.user.name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return L.form.user.name=e}),name:"姓名",rules:"required"},null,8,["modelValue","class"]),Object(c["h"])(S,{name:"姓名",class:"invalid-feedback"})]),Object(c["h"])("div",O,[p,Object(c["h"])(A,{type:"tel",class:["form-control",{"is-invalid":a["電話"]}],id:"tel",placeholder:"請輸入電話",modelValue:L.form.user.tel,"onUpdate:modelValue":t[4]||(t[4]=function(e){return L.form.user.tel=e}),name:"電話",rules:k.isPhone},null,8,["modelValue","rules","class"]),Object(c["h"])(S,{name:"電話",class:"invalid-feedback"})]),Object(c["h"])("div",v,[g,Object(c["h"])(A,{type:"text",class:["form-control",{"is-invalid":a["地址"]}],id:"address",placeholder:"請輸入地址",modelValue:L.form.user.address,"onUpdate:modelValue":t[5]||(t[5]=function(e){return L.form.user.address=e}),name:"地址",rules:"required"},null,8,["modelValue","class"]),Object(c["h"])(S,{name:"地址",class:"invalid-feedback"})]),Object(c["h"])("div",y,[x,Object(c["L"])(Object(c["h"])("textarea",{type:"text",class:"form-control",id:"leaveMsg",placeholder:"你想說什麼??",rows:"5","onUpdate:modelValue":t[6]||(t[6]=function(e){return L.form.message=e})},null,512),[[c["G"],L.form.message]])]),Object(c["h"])("div",V,[Object(c["h"])("button",{type:"submit",class:"btn btn-danger",disabled:0===L.carts.length}," 送出訂單 ",8,["disabled"])])]})),_:1},8,["onSubmit"])])],64)}a("99af");var L={data:function(){return{isLoading:!1,carts:[],finalTotal:"",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getCarts:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("larry","/cart");this.$http.get(t).then((function(t){e.carts=t.data.data.carts,e.finalTotal=t.data.data.final_total,e.isLoading=!1}))},delCartItem:function(e){var t=this;this.isLoading=!0;var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("larry","/cart/").concat(e);this.$http.delete(a).then((function(a){a.data.success?(alert("成功刪除".concat(e,"商品")),t.isLoading=!1,t.getCarts()):alert("刪除失敗")}))},delAllCarts:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("larry","/carts");this.$http.delete(t).then((function(t){t.data.success?(alert("成功清空物車"),e.isLoading=!1,e.getCarts()):alert("清空失敗")}))},onSubmit:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("larry","/order"),a=this.form.user,c=this.form.message.message;this.$http.post(t,{data:{user:a,message:c}}).then((function(t){t.data.success?(alert(t.data.message),//! VeeValidate內建函式
e.$refs.form.resetForm(),e.isLoading=!1):alert(t.data.message)})).catch((function(e){console.log(e)}))},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的電話號碼"}},created:function(){this.getCarts()}};L.render=C;t["default"]=L}}]);
//# sourceMappingURL=chunk-1830dc1e.5d9a184f.js.map